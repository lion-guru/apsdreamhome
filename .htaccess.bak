# Enable URL rewriting
RewriteEngine On

# Set base directory
RewriteBase /apsdreamhomefinal/

# Prevent directory listing
Options -Indexes

# Set default character set
AddDefaultCharset UTF-8

# Custom error page
ErrorDocument 404 /404.php

# Security headers
<IfModule mod_headers.c>
    Header set X-XSS-Protection "1; mode=block"
    Header always set X-Frame-Options "SAMEORIGIN"
    Header set X-Content-Type-Options nosniff
</IfModule>

# Routing Rules
# Redirect admin access
RewriteCond %{REQUEST_URI} ^/apsdreamhomefinal/admin/ [NC]
RewriteRule ^admin/(.*)$ admin/ [L]

# Prevent direct access to admin from front-end
RewriteCond %{REQUEST_URI} ^/apsdreamhomefinal/admin [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^admin/(.*)$ index.php [L,QSA]

# Protect sensitive directories
RewriteRule ^(admin|includes|config)/ - [F]

# Block direct access to PHP files in sensitive directories
RewriteRule ^(admin|includes|config)/.*\.php$ - [F]

