RewriteEngine On
Options -Indexes

# Redirect to login if not authenticated
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [L,QSA]

# Prevent direct access to sensitive files - Apache 2.4 syntax
<FilesMatch "^(config\.php|\.htaccess)$">
    Require all denied
</FilesMatch>